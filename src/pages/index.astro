---
import { ViewTransitions } from "astro:transitions"
import GlitchImage from "../components/GlitchImage.astro"
import bgImage from "../images/bg-image.jpeg"
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="/styles.css" />
    <!-- favicon start -->
    <link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./favicon-16x16.png"
    />
    <link rel="manifest" href="./site.webmanifest" />
    <!-- favicon end -->
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <meta name="theme-color" content="#5c84a3" />
    <title>Taylor's Homebase</title>
    <ViewTransitions />
  </head>
  <body class="text-white">
    <div class="fixed inset-0 -z-10">
      <GlitchImage
        src={bgImage}
        alt="Pink clouds in a dreamy sky"
        layers={9}
        minSliceHeight={80}
      />
    </div>
    <div
      class="relative z-10 flex min-h-screen flex-col items-center justify-center p-4"
    >
      <div class="glitch-wrapper">
        <div class="glitch" data-text="<Name here>">&lt;Name here&gt;</div>
      </div>

      <!-- marquee starts -->
      <div
        class="user-select-none relative flex w-full gap-4 overflow-hidden py-4"
      >
        <ul
          class="marquee-content flex min-w-full flex-shrink-0 justify-around gap-4 text-lg"
        >
          <li>1</li>
          <li>2</li>
          <li>3</li>
          <li>4</li>
          <li>5</li>
        </ul>
        <ul
          class="marquee-content flex min-w-full flex-shrink-0 justify-around gap-4 text-xl"
          aria-hidden="true"
        >
          <li>1</li>
          <li>2</li>
          <li>3</li>
          <li>4</li>
          <li>5</li>
        </ul>
      </div>
      <!-- marquee ends -->

      <!-- newsletter signup starts -->
      <div class="flex w-full flex-col items-center gap-8 p-8">
        <div class="scanline-container w-full max-w-lg">
          <h3 class="text-center">Join the newsletter</h3>
          <label for="email" class="block text-sm font-medium text-gray-300"
            >Email</label
          >
          <div class="flex w-full flex-col gap-1 sm:flex-row">
            <input
              type="email"
              id="email"
              name="email"
              required
              class="block w-full min-w-36 border-4 border-gray-700 border-l-gray-500 border-t-gray-500 bg-black p-2 text-white focus:border-blue-500 focus:ring-blue-500 sm:min-w-72"
              placeholder="you@example.com"
            />
            <button
              type="submit"
              class="glitch-button block w-full border-4 border-gray-700 border-l-gray-500 border-t-gray-500 bg-white/10 p-2 text-white hover:bg-black focus:border-blue-500 focus:ring-blue-500 sm:max-w-24"
              >Submit</button
            >
          </div>
        </div>

        <!-- secondary content starts -->
        <div class="grid grid-cols-1 gap-4 p-4 sm:grid-cols-3">
          <div class="scanline-container">
            <a class="generic-link" href="/blog">blog</a>
          </div>
          <div class="scanline-container">
            <ul>
              <li>github</li>
              <li>gitlab</li>
              <li>figma</li>
              <li>youtube</li>
            </ul>
          </div>
          <div class="scanline-container">another thing</div>
        </div>
      </div>
    </div>
  </body><style>
    /* Marquee animation */
    .marquee-content {
      --gap: 1rem;
      animation: scroll 15s linear infinite;
    }

    @keyframes scroll {
      from {
        transform: translateX(0);
      }
      to {
        transform: translateX(calc(-100% - var(--gap)));
      }
    }

    /* Glitch effect */
    .glitch-wrapper {
      width: 100%;
      height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
    }

    .glitch-wrapper::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.15),
        rgba(0, 0, 0, 0.15) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
      z-index: 2;
    }

    .glitch {
      position: relative;
      font-size: 40px;
      font-weight: bold;
      color: #ffffff;
      letter-spacing: 3px;
      text-shadow:
        0.05em 0 0 rgba(255, 0, 0, 0.75),
        -0.025em -0.05em 0 rgba(0, 255, 0, 0.75),
        0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
    }

    .glitch::before {
      content: attr(data-text);
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 50%;
      text-shadow: -2px 0 #ff0000;
      animation: noise-1 3s infinite;
      opacity: 0.75;
      clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
      transform: translateX(0);
    }

    .glitch::after {
      content: attr(data-text);
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      text-shadow: -2px 0 #00ff00;
      animation: noise-2 3s infinite;
      opacity: 0.75;
      clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
      transform: translateX(0);
    }

    @keyframes noise-1 {
      0%,
      85%,
      100% {
        transform: translateX(0);
      }
      86% {
        transform: translateX(-5px);
      }
      87% {
        transform: translateX(5px);
      }
      88% {
        transform: translateX(-3px);
      }
      89% {
        transform: translateX(0);
      }
    }

    @keyframes noise-2 {
      0%,
      85%,
      100% {
        transform: translateX(0);
      }
      86% {
        transform: translateX(5px);
      }
      87% {
        transform: translateX(-5px);
      }
      88% {
        transform: translateX(3px);
      }
      89% {
        transform: translateX(0);
      }
    }

    /* Glitch button effect */
    .glitch-button {
      position: relative;
      transition: all 0.2s ease;
    }

    .glitch-button:hover {
      text-shadow:
        0.05em 0 0 rgba(255, 0, 0, 0.75),
        -0.025em -0.05em 0 rgba(0, 255, 0, 0.75),
        0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
    }

    .glitch-button:hover span {
      animation: glitch 500ms infinite;
    }

    /* Text shadow utility for better contrast */
    .text-shadow {
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    }

    /* Scanline container matching glitch-wrapper style */
    .scanline-container {
      position: relative;
      padding: 1.25rem;
      color: white;
      background: rgba(0, 0, 0, 0.2);
    }

    .scanline-container::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.15),
        rgba(0, 0, 0, 0.15) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
      z-index: 2;
    }

    .scanline-container > * {
      position: relative;
      z-index: 2;
    }
  </style>
</html>
